#!/usr/bin/env python

from pytask.view import CurseView
from pytask.model import Tasklist


class PyTaskApp:
    def __init__(self):
        self.tasklists = Tasklist.all()
        self.view = CurseView(self.tasklists)

    def application(self):
        while True:
            c = self.view.stdscr.getch()
            if c == ord('q'):
                self.view.quit()
                break
            elif c == ord('k') or c == ord('j'):
                self.view.move(c)
            elif c == ord('\t'):
                self.view.switch_window(c)
            elif c == ord('h') or c == ord('l'):
                self.view.switch_window(c)


PyTaskApp().application()
